webpackJsonp([1],{0:function(t,e){},1:function(t,e){},"1/oy":function(t,e){},"6lR3":function(t,e){},"9M+g":function(t,e){},DA2C:function(t,e){},GQmB:function(t,e){},"Gc1+":function(t,e){},Id91:function(t,e){},Jmt5:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("Jmt5"),n("9M+g");var i=n("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var a=n("VU/8")({name:"App"},o,!1,function(t){n("W43E")},null,null).exports,r=n("/ocq"),s=n("Xxa5"),c=n.n(s),h=n("exGp"),l=n.n(h),u=n("EJLk"),d=n.n(u),p=n("bOdI"),v=n.n(p);
/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bézier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bézier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */
function f(t,e,n){this.x=t,this.y=e,this.time=n||(new Date).getTime()}function m(t,e,n,i){this.startPoint=t,this.control1=e,this.control2=n,this.endPoint=i}function _(t,e){var n=this,i=e||{};this.velocityFilterWeight=i.velocityFilterWeight||.7,this.minWidth=i.minWidth||.5,this.maxWidth=i.maxWidth||2.5,this.throttle="throttle"in i?i.throttle:16,this.minDistance="minDistance"in i?i.minDistance:5,this.throttle?this._strokeMoveUpdate=function(t,e,n){var i,o,a,r=null,s=0;n||(n={});var c=function(){s=!1===n.leading?0:Date.now(),r=null,a=t.apply(i,o),r||(i=o=null)};return function(){var h=Date.now();s||!1!==n.leading||(s=h);var l=e-(h-s);return i=this,o=arguments,l<=0||l>e?(r&&(clearTimeout(r),r=null),s=h,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(c,l)),a}}(_.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=_.prototype._strokeUpdate,this.dotSize=i.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=i.penColor||"black",this.backgroundColor=i.backgroundColor||"rgba(0,0,0,0)",this.onBegin=i.onBegin,this.onEnd=i.onEnd,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(t){1===t.which&&(n._mouseButtonDown=!0,n._strokeBegin(t))},this._handleMouseMove=function(t){n._mouseButtonDown&&n._strokeMoveUpdate(t)},this._handleMouseUp=function(t){1===t.which&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(t))},this._handleTouchStart=function(t){if(1===t.targetTouches.length){var e=t.changedTouches[0];n._strokeBegin(e)}},this._handleTouchMove=function(t){t.preventDefault();var e=t.targetTouches[0];n._strokeMoveUpdate(e)},this._handleTouchEnd=function(t){t.target===n._canvas&&(t.preventDefault(),n._strokeEnd(t))},this.on()}f.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1},f.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},f.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time},m.prototype.length=function(){for(var t=0,e=void 0,n=void 0,i=0;i<=10;i+=1){var o=i/10,a=this._point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),r=this._point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){var s=a-e,c=r-n;t+=Math.sqrt(s*s+c*c)}e=a,n=r}return t},m.prototype._point=function(t,e,n,i,o){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*i*(1-t)*t*t+o*t*t*t},_.prototype.clear=function(){var t=this._ctx,e=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0},_.prototype.fromDataURL=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new Image,o=n.ratio||window.devicePixelRatio||1,a=n.width||this._canvas.width/o,r=n.height||this._canvas.height/o;this._reset(),i.src=t,i.onload=function(){e._ctx.drawImage(i,0,0,a,r)},this._isEmpty=!1},_.prototype.toDataURL=function(t){var e;switch(t){case"image/svg+xml":return this._toSVG();default:for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return(e=this._canvas).toDataURL.apply(e,[t].concat(i))}},_.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},_.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},_.prototype.isEmpty=function(){return this._isEmpty},_.prototype._strokeBegin=function(t){this._data.push([]),this._reset(),this._strokeUpdate(t),"function"==typeof this.onBegin&&this.onBegin(t)},_.prototype._strokeUpdate=function(t){var e=t.clientX,n=t.clientY,i=this._createPoint(e,n),o=this._data[this._data.length-1],a=o&&o[o.length-1],r=a&&i.distanceTo(a)<this.minDistance;if(!a||!r){var s=this._addPoint(i),c=s.curve,h=s.widths;c&&h&&this._drawCurve(c,h.start,h.end),this._data[this._data.length-1].push({x:i.x,y:i.y,time:i.time,color:this.penColor})}},_.prototype._strokeEnd=function(t){var e=this.points.length>2,n=this.points[0];if(!e&&n&&this._drawDot(n),n){var i=this._data[this._data.length-1],o=i[i.length-1];n.equals(o)||i.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}"function"==typeof this.onEnd&&this.onEnd(t)},_.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},_.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},_.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},_.prototype._createPoint=function(t,e,n){var i=this._canvas.getBoundingClientRect();return new f(t-i.left,e-i.top,n||(new Date).getTime())},_.prototype._addPoint=function(t){var e=this.points;if(e.push(t),e.length>2){3===e.length&&e.unshift(e[0]);var n=this._calculateCurveControlPoints(e[0],e[1],e[2]).c2,i=this._calculateCurveControlPoints(e[1],e[2],e[3]).c1,o=new m(e[1],n,i,e[2]),a=this._calculateCurveWidths(o);return e.shift(),{curve:o,widths:a}}return{}},_.prototype._calculateCurveControlPoints=function(t,e,n){var i=t.x-e.x,o=t.y-e.y,a=e.x-n.x,r=e.y-n.y,s=(t.x+e.x)/2,c=(t.y+e.y)/2,h=(e.x+n.x)/2,l=(e.y+n.y)/2,u=Math.sqrt(i*i+o*o),d=Math.sqrt(a*a+r*r),p=d/(u+d),v=h+(s-h)*p,m=l+(c-l)*p,_=e.x-v,g=e.y-m;return{c1:new f(s+_,c+g),c2:new f(h+_,l+g)}},_.prototype._calculateCurveWidths=function(t){var e=t.startPoint,n=t.endPoint,i={start:null,end:null},o=this.velocityFilterWeight*n.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,a=this._strokeWidth(o);return i.start=this._lastWidth,i.end=a,this._lastVelocity=o,this._lastWidth=a,i},_.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)},_.prototype._drawPoint=function(t,e,n){var i=this._ctx;i.moveTo(t,e),i.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1},_.prototype._drawCurve=function(t,e,n){var i=this._ctx,o=n-e,a=Math.floor(t.length());i.beginPath();for(var r=0;r<a;r+=1){var s=r/a,c=s*s,h=c*s,l=1-s,u=l*l,d=u*l,p=d*t.startPoint.x;p+=3*u*s*t.control1.x,p+=3*l*c*t.control2.x,p+=h*t.endPoint.x;var v=d*t.startPoint.y;v+=3*u*s*t.control1.y,v+=3*l*c*t.control2.y,v+=h*t.endPoint.y;var f=e+h*o;this._drawPoint(p,v,f)}i.closePath(),i.fill()},_.prototype._drawDot=function(t){var e=this._ctx,n="function"==typeof this.dotSize?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(t.x,t.y,n),e.closePath(),e.fill()},_.prototype._fromData=function(t,e,n){for(var i=0;i<t.length;i+=1){var o=t[i];if(o.length>1)for(var a=0;a<o.length;a+=1){var r=o[a],s=new f(r.x,r.y,r.time),c=r.color;if(0===a)this.penColor=c,this._reset(),this._addPoint(s);else if(a!==o.length-1){var h=this._addPoint(s),l=h.curve,u=h.widths;l&&u&&e(l,u,c)}}else this._reset(),n(o[0])}},_.prototype._toSVG=function(){var t=this,e=this._data,n=this._canvas,i=Math.max(window.devicePixelRatio||1,1),o=n.width/i,a=n.height/i,r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttributeNS(null,"width",n.width),r.setAttributeNS(null,"height",n.height),this._fromData(e,function(t,e,n){var i=document.createElement("path");if(!(isNaN(t.control1.x)||isNaN(t.control1.y)||isNaN(t.control2.x)||isNaN(t.control2.y))){var o="M "+t.startPoint.x.toFixed(3)+","+t.startPoint.y.toFixed(3)+" C "+t.control1.x.toFixed(3)+","+t.control1.y.toFixed(3)+" "+t.control2.x.toFixed(3)+","+t.control2.y.toFixed(3)+" "+t.endPoint.x.toFixed(3)+","+t.endPoint.y.toFixed(3);i.setAttribute("d",o),i.setAttribute("stroke-width",(2.25*e.end).toFixed(3)),i.setAttribute("stroke",n),i.setAttribute("fill","none"),i.setAttribute("stroke-linecap","round"),r.appendChild(i)}},function(e){var n=document.createElement("circle"),i="function"==typeof t.dotSize?t.dotSize():t.dotSize;n.setAttribute("r",i),n.setAttribute("cx",e.x),n.setAttribute("cy",e.y),n.setAttribute("fill",e.color),r.appendChild(n)});var s='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+o+" "+a+'" width="'+o+'" height="'+a+'">',c=r.innerHTML;if(void 0===c){var h=document.createElement("dummy"),l=r.childNodes;h.innerHTML="";for(var u=0;u<l.length;u+=1)h.appendChild(l[u].cloneNode(!0));c=h.innerHTML}return"data:image/svg+xml;base64,"+btoa(s+c+"</svg>")},_.prototype.fromData=function(t){var e=this;this.clear(),this._fromData(t,function(t,n){return e._drawCurve(t,n.start,n.end)},function(t){return e._drawDot(t)}),this._data=t},_.prototype.toData=function(){return this._data};var g=_,w=function(t,e){console.log("Printing vector of "+e+" columns"),console.log("--".padEnd(e,"-"));for(var n=[],i=0;i<e;i++)n.push(t.slice(i*e,i*e+e).join(""));console.log(n.join("\n")),console.log("--".padEnd(e,"-"))},b={name:"Chalkboard",props:{penColor:{default:"#404047"},backgroundColor:{default:"#FFF"},showHits:{default:!1}},data:function(){return{pad:null}},methods:{getImageVector:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return function(t){var e=t.canvas,n=t.columns,i=t.showHits,o=e.clientWidth,a=e.clientHeight,r=e.getContext("2d"),s=o/n,c=a/n;if(s<1||c<1)throw new Error("Invalid columns number. There can be a maximum of "+Math.min(o,a)+" columns");for(var h=[],l=performance.now(),u=0;u<a;u+=c)for(var d=0;d<o;d+=s){var p=void 0===r.getImageData(d,u,s,c).data.find(function(t){return t>0});h.push(p?0:1),!p&&i&&(r.fillStyle="rgba(0, 255, 0, 0.6)",r.fillRect(d,u,s,c))}if(i){var v=(performance.now()-l)/1e3;console.log("Vector length: "+h.length+". Took: "+v+"s"),w(h,n)}return h}({canvas:this.$refs.canvas,columns:t,showHits:this.showHits})},clear:function(){this.pad.clear()},resizeCanvas:function(){var t=Math.max(window.devicePixelRatio||1,1),e=this.$refs.canvas;e.width=e.offsetWidth*t,e.height=e.offsetHeight*t,e.getContext("2d").scale(t,t),this.pad.clear()}},mounted:function(){var t=this.$refs.canvas,e={penColor:this.penColor};this.pad=new g(t,e)}},y={render:function(){var t=this.$createElement;return(this._self._c||t)("canvas",{ref:"canvas",staticClass:"border",style:{"background-color":this.backgroundColor},attrs:{width:"200",height:"200"}})},staticRenderFns:[]};var x=n("VU/8")(b,y,!1,function(t){n("ikjs")},"data-v-11a45cfa",null).exports,k={name:"Train",props:{shape:{required:!0},resolution:{type:Number,default:20},samplesToCollect:{type:Number,default:4}},components:{Chalkboard:x},data:function(){return{trainData:[],showHits:!0}},computed:{numberOfSamples:function(){return this.trainData.length}},methods:{getVectors:function(){var t=this;return this.$refs.boards.map(function(e){return e.getImageVector(t.resolution)})},addTrainingData:function(){var t=this.getVectors(),e=v()({},this.shape,1),n=t.map(function(t){return{input:t,output:e}});this.trainData=this.trainData.concat(n),this.$emit("data-added",this.trainData)},clear:function(){this.$refs.boards.forEach(function(t){return t.clear()})}}},T={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[n("b-row",[n("b-col",[n("h1",[t._v("Draw "+t._s(t.shape))]),t._v(" "),n("p",[t._v("Draw one "+t._s(t.shape)+" in each board. Click the button below after finishing the drawings.")]),t._v(" "),n("p",[n("b-form-checkbox",{attrs:{title:"Show which regions are considered an interesting point to keep track of the shape",value:"true","unchecked-value":"false"},model:{value:t.showHits,callback:function(e){t.showHits=e},expression:"showHits"}},[t._v("\n          Show hits on add samples\n        ")])],1)])],1),t._v(" "),n("b-row",t._l(t.samplesToCollect,function(e){return n("b-col",{key:e},[n("Chalkboard",{ref:"boards",refInFor:!0,attrs:{showHits:t.showHits}})],1)})),t._v(" "),n("b-row",[n("b-col",[n("p",[t._v(t._s(t.numberOfSamples)+" Samples added")])])],1),t._v(" "),n("b-row",[n("b-col",[n("b-button",{staticClass:"float-right",attrs:{variant:"primary"},on:{click:t.addTrainingData}},[t._v("Add Samples")]),t._v(" "),n("b-button",{staticClass:"float-right",attrs:{variant:"link"},on:{click:t.clear}},[t._v("Clear")])],1)],1)],1)},staticRenderFns:[]};var C=n("VU/8")(k,T,!1,function(t){n("DA2C")},"data-v-6b2b0d9c",null).exports,D={name:"TrainPage",components:{Train:C,Chalkboard:x},data:function(){return{trainData:[],training:!1,trainingError:null,trainingIterations:null,net:null,prediction:null}},methods:{onTrainedData:function(t){this.trainData=this.trainData.concat(t)},train:function(){var t=this;return l()(c.a.mark(function e(){var n,i,o,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.net||(t.net=new d.a.NeuralNetwork),t.trainingError=null,t.trainingIterations=null,t.training=!0,n={log:!0},e.next=7,t.net.trainAsync(t.trainData,n);case 7:i=e.sent,o=i.error,a=i.iterations,t.trainingError=o,t.trainingIterations=a,t.training=!1;case 13:case"end":return e.stop()}},e,t)}))()},check:function(){var t=this.$refs.test.getImageVector();this.prediction=d.a.likely(t,this.net)},clear:function(){this.$refs.test.clear(),this.prediction=null}}},E={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[n("b-row",[n("b-col",[n("Train",{attrs:{shape:"circle"},on:{trained:t.onTrainedData}})],1)],1),t._v(" "),n("b-row",[n("b-col",[n("Train",{attrs:{shape:"square"},on:{trained:t.onTrainedData}})],1)],1),t._v(" "),n("b-row",[n("b-col",[n("b-alert",{attrs:{show:t.training}},[t._v("Training ...")]),t._v(" "),t.training?t._e():n("div",[n("b-button",{attrs:{variant:"primary"},on:{click:t.train}},[t._v("Train")]),t._v(" "),n("p",[t._v("Training error: "+t._s(t.trainingError))]),t._v(" "),n("p",[t._v("Training iterations: "+t._s(t.trainingIterations))])],1)],1),t._v(" "),n("b-col",[n("Chalkboard",{ref:"test"}),t._v(" "),n("b-button",{attrs:{variant:"success"},on:{click:t.check}},[t._v("Check")]),t._v(" "),n("b-button",{attrs:{variant:"link"},on:{click:t.clear}},[t._v("Clear")])],1),t._v(" "),n("b-col",[n("h2",[t._v("Results")]),t._v(" "),n("h1",[t._v(t._s(t.prediction))])])],1)],1)},staticRenderFns:[]};var S=n("VU/8")(D,E,!1,function(t){n("GQmB")},"data-v-06bcdacc",null).exports,M=n("mvHQ"),P=n.n(M),U=n("Zrlr"),R=n.n(U),A=n("wxAW"),N=n.n(A),L=function(){function t(e){var n=e.name,i=e.data;if(R()(this,t),!(n&&n.length&&i&&i.length))throw new TypeError("name and data are required to create a shape");this.name=n,this.output=v()({},n,1),this.trainingData=i}return N()(t,[{key:"getTrainingData",value:function(){return this.trainingData}}]),t}(),W={name:"AddShape",components:{Train:C},props:{resolution:{type:Number,default:20}},data:function(){return{shape:{name:null,data:null}}},methods:{addShape:function(){try{var t=new L(this.shape);this.shape={name:null,data:null},this.$emit("shape",t)}catch(t){console.log(t)}}}},F={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-form",{on:{submit:function(e){return e.preventDefault(),t.addShape(e)}}},[n("b-form-group",{attrs:{label:"Shape name:","label-for":"shapeName",description:"The way anyone would call this shape"}},[n("b-form-input",{attrs:{id:"shapeName",type:"text",required:"",placeholder:"circle"},model:{value:t.shape.name,callback:function(e){t.$set(t.shape,"name",e)},expression:"shape.name"}})],1),t._v(" "),n("Train",{attrs:{shape:t.shape.name,resolution:t.resolution},on:{"data-added":function(e){t.shape.data=e}}}),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Add shape")])],1)},staticRenderFns:[]};var B={data:function(){return{modelUrl:null}},methods:{loadModel:function(){var t=this;return l()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Loading model from: "+t.modelUrl),e.abrupt("return",fetch(t.modelUrl,{method:"GET"}).then(function(t){return t.json()}).then(function(e){return t.$emit("model",e)}).catch(function(e){return t.$emit("error",e)}));case 2:case"end":return e.stop()}},e,t)}))()}}},$={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-form",{on:{submit:function(e){return e.preventDefault(),t.loadModel(e)}}},[n("b-form-group",{attrs:{label:"Model url:","label-for":"modelUrl",description:"Where your model is hosted"}},[n("b-form-input",{attrs:{id:"modelUrl",type:"url",required:"",placeholder:"http://...."},model:{value:t.modelUrl,callback:function(e){t.modelUrl=e},expression:"modelUrl"}})],1),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Load")])],1)},staticRenderFns:[]};var H={name:"ShapesPage",components:{AddShape:n("VU/8")(W,F,!1,function(t){n("sdKe")},"data-v-17e422a8",null).exports,Chalkboard:x,LoadModel:n("VU/8")(B,$,!1,function(t){n("6lR3")},"data-v-1d597dec",null).exports},data:function(){return{addingShape:!1,shapes:[],net:null,training:!1,trainingResults:{},trained:!1,prediction:null,resolution:20}},methods:{addShape:function(t){this.shapes.push(t),this.addingShape=!1},train:function(){var t=this;return l()(c.a.mark(function e(){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.shapes.reduce(function(t,e){return t.concat(e.getTrainingData())},[]),t.net=new d.a.NeuralNetwork,t.training=!0,t.trained=!1,t.trainingResults=null,t.prediction=null,e.next=8,t.net.trainAsync(n,{log:!0});case 8:t.trainingResults=e.sent,t.training=!1,t.trained=!0;case 11:case"end":return e.stop()}},e,t)}))()},predict:function(){var t=this.$refs.canvasTest.getImageVector(this.resolution);this.prediction=d.a.likely(t,this.net)},clear:function(){this.$refs.canvasTest.clear(),this.prediction=null},download:function(){var t={model:this.net.toJSON(),shapes:this.shapeNames};!function t(e,n,i){var o,a,r=window,s="application/octet-stream",c=i||s,h=e,l=!n&&!i&&h,u=document.createElement("a"),d=function(t){return String(t)},p=r.Blob||r.MozBlob||r.WebKitBlob||d,v=n||"download";if(p=p.call?p.bind(r):Blob,"true"===String(this)&&(c=(h=[h,c])[0],h=h[1]),l&&l.length<2048&&(v=l.split("/").pop().split("?")[0],u.href=l,-1!==u.href.indexOf(l))){var f=new XMLHttpRequest;return f.open("GET",l,!0),f.responseType="blob",f.onload=function(e){t(e.target.response,v,s)},setTimeout(function(){f.send()},0),f}if(/^data\:[\w+\-]+\/[\w+\-]+[,;]/.test(h)){if(!(h.length>2096103.424&&p!==d))return navigator.msSaveBlob?navigator.msSaveBlob(m(h),v):_(h);c=(h=m(h)).type||s}function m(t){for(var e=t.split(/[:;,]/),n=e[1],i=("base64"==e[2]?atob:decodeURIComponent)(e.pop()),o=i.length,a=0,r=new Uint8Array(o);a<o;++a)r[a]=i.charCodeAt(a);return new p([r],{type:n})}function _(t,e){if("download"in u)return u.href=t,u.setAttribute("download",v),u.className="download-js-link",u.innerHTML="downloading...",u.style.display="none",document.body.appendChild(u),setTimeout(function(){u.click(),document.body.removeChild(u),!0===e&&setTimeout(function(){r.URL.revokeObjectURL(u.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return t=t.replace(/^data:([\w\/\-\+]+)/,s),window.open(t)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=t),!0;var n=document.createElement("iframe");document.body.appendChild(n),e||(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,s)),n.src=t,setTimeout(function(){document.body.removeChild(n)},333)}if(o=h instanceof p?h:new p([h],{type:c}),navigator.msSaveBlob)return navigator.msSaveBlob(o,v);if(r.URL)_(r.URL.createObjectURL(o),!0);else{if("string"==typeof o||o.constructor===d)try{return _("data:"+c+";base64,"+r.btoa(o))}catch(t){return _("data:"+c+","+encodeURIComponent(o))}(a=new FileReader).onload=function(t){_(this.result)},a.readAsDataURL(o)}return!0}(P()(t),"model.json","text/json")},modelLoaded:function(t){var e=t.model,n=t.shapes;this.net=this.net||new d.a.NeuralNetwork,this.net.fromJSON(e),this.shapes=n.map(function(t){return new L({name:t,data:[1]})}),this.training=!1,this.trained=!0,this.trainingResults={},this.prediction=null}},computed:{shapeNames:function(){return this.shapes.map(function(t){return t.name})}}},V={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[n("b-row",[n("b-col",[n("h1",[t._v("Known shapes")]),t._v(" "),n("ul",t._l(t.shapeNames,function(e){return n("li",{key:e},[t._v("\n          "+t._s(e)+"\n        ")])})),t._v(" "),t.addingShape?t._e():n("b-button",{attrs:{variant:"outline-primary"},on:{click:function(e){t.addingShape=!0}}},[t._v("\n        Add shape\n      ")]),t._v(" "),t.shapeNames.length?n("b-button",{attrs:{variant:"primary"},on:{click:t.train}},[t._v("\n        Train\n      ")]):t._e(),t._v(" "),n("b-alert",{attrs:{show:t.training}},[t._v("Training ...")]),t._v(" "),t.trained?n("div",[n("p",[t._v("Training error: "+t._s(t.trainingResults.error))]),t._v(" "),n("p",[t._v("Training iterations: "+t._s(t.trainingResults.iterations))]),t._v(" "),n("b-button",{attrs:{variant:"info"},on:{click:t.download}},[t._v("\n          Download\n        ")])],1):t._e()],1),t._v(" "),t.addingShape?n("b-col",[n("AddShape",{attrs:{resolution:t.resolution},on:{shape:t.addShape}})],1):t._e(),t._v(" "),t.trained&&!t.addingShape?n("b-col",[n("Chalkboard",{ref:"canvasTest"}),t._v(" "),n("div",[n("b-button",{attrs:{variant:"success"},on:{click:t.predict}},[t._v("Check")]),t._v(" "),n("b-button",{attrs:{variant:"link"},on:{click:t.clear}},[t._v("Clear")]),t._v(" "),n("h2",[t._v("Results")]),t._v(" "),n("h1",[t._v(t._s(t.prediction))])],1)],1):t._e()],1)],1)},staticRenderFns:[]};var I=n("VU/8")(H,V,!1,function(t){n("Gc1+")},"data-v-21ad8499",null).exports;i.a.use(r.a);var q=new r.a({routes:[{path:"/",name:"ShapesPage",component:I},{path:"/train",name:"TrainPage",component:S}]}),j=n("e6fC");i.a.use(j.a),i.a.config.productionTip=!1,new i.a({el:"#app",router:q,components:{App:a},template:"<App/>"})},W43E:function(t,e){},ikjs:function(t,e){},sdKe:function(t,e){},zj2Q:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.80ac0bb84cdff8f60f91.js.map
webpackJsonp([1],{0:function(t,n){},1:function(t,n){},"1/oy":function(t,n){},"6lR3":function(t,n){},"9M+g":function(t,n){},EeSn:function(t,n){},GQmB:function(t,n){},ISGP:function(t,n){},Id91:function(t,n){},Jmt5:function(t,n){},"Ln+A":function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});e("Jmt5"),e("9M+g");var i=e("7+uW"),a={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var o=e("VU/8")({name:"App"},a,!1,function(t){e("W43E")},null,null).exports,r=e("/ocq"),s=e("Xxa5"),c=e.n(s),h=e("exGp"),l=e.n(h),u=e("EJLk"),d=e.n(u),p=e("bOdI"),v=e.n(p);
/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bézier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bézier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */
function f(t,n,e){this.x=t,this.y=n,this.time=e||(new Date).getTime()}function m(t,n,e,i){this.startPoint=t,this.control1=n,this.control2=e,this.endPoint=i}function _(t,n){var e=this,i=n||{};this.velocityFilterWeight=i.velocityFilterWeight||.7,this.minWidth=i.minWidth||.5,this.maxWidth=i.maxWidth||2.5,this.throttle="throttle"in i?i.throttle:16,this.minDistance="minDistance"in i?i.minDistance:5,this.throttle?this._strokeMoveUpdate=function(t,n,e){var i,a,o,r=null,s=0;e||(e={});var c=function(){s=!1===e.leading?0:Date.now(),r=null,o=t.apply(i,a),r||(i=a=null)};return function(){var h=Date.now();s||!1!==e.leading||(s=h);var l=n-(h-s);return i=this,a=arguments,l<=0||l>n?(r&&(clearTimeout(r),r=null),s=h,o=t.apply(i,a),r||(i=a=null)):r||!1===e.trailing||(r=setTimeout(c,l)),o}}(_.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=_.prototype._strokeUpdate,this.dotSize=i.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=i.penColor||"black",this.backgroundColor=i.backgroundColor||"rgba(0,0,0,0)",this.onBegin=i.onBegin,this.onEnd=i.onEnd,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(t){1===t.which&&(e._mouseButtonDown=!0,e._strokeBegin(t))},this._handleMouseMove=function(t){e._mouseButtonDown&&e._strokeMoveUpdate(t)},this._handleMouseUp=function(t){1===t.which&&e._mouseButtonDown&&(e._mouseButtonDown=!1,e._strokeEnd(t))},this._handleTouchStart=function(t){if(1===t.targetTouches.length){var n=t.changedTouches[0];e._strokeBegin(n)}},this._handleTouchMove=function(t){t.preventDefault();var n=t.targetTouches[0];e._strokeMoveUpdate(n)},this._handleTouchEnd=function(t){t.target===e._canvas&&(t.preventDefault(),e._strokeEnd(t))},this.on()}f.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1},f.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},f.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time},m.prototype.length=function(){for(var t=0,n=void 0,e=void 0,i=0;i<=10;i+=1){var a=i/10,o=this._point(a,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),r=this._point(a,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){var s=o-n,c=r-e;t+=Math.sqrt(s*s+c*c)}n=o,e=r}return t},m.prototype._point=function(t,n,e,i,a){return n*(1-t)*(1-t)*(1-t)+3*e*(1-t)*(1-t)*t+3*i*(1-t)*t*t+a*t*t*t},_.prototype.clear=function(){var t=this._ctx,n=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,n.width,n.height),t.fillRect(0,0,n.width,n.height),this._data=[],this._reset(),this._isEmpty=!0},_.prototype.fromDataURL=function(t){var n=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new Image,a=e.ratio||window.devicePixelRatio||1,o=e.width||this._canvas.width/a,r=e.height||this._canvas.height/a;this._reset(),i.src=t,i.onload=function(){n._ctx.drawImage(i,0,0,o,r)},this._isEmpty=!1},_.prototype.toDataURL=function(t){var n;switch(t){case"image/svg+xml":return this._toSVG();default:for(var e=arguments.length,i=Array(e>1?e-1:0),a=1;a<e;a++)i[a-1]=arguments[a];return(n=this._canvas).toDataURL.apply(n,[t].concat(i))}},_.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},_.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},_.prototype.isEmpty=function(){return this._isEmpty},_.prototype._strokeBegin=function(t){this._data.push([]),this._reset(),this._strokeUpdate(t),"function"==typeof this.onBegin&&this.onBegin(t)},_.prototype._strokeUpdate=function(t){var n=t.clientX,e=t.clientY,i=this._createPoint(n,e),a=this._data[this._data.length-1],o=a&&a[a.length-1],r=o&&i.distanceTo(o)<this.minDistance;if(!o||!r){var s=this._addPoint(i),c=s.curve,h=s.widths;c&&h&&this._drawCurve(c,h.start,h.end),this._data[this._data.length-1].push({x:i.x,y:i.y,time:i.time,color:this.penColor})}},_.prototype._strokeEnd=function(t){var n=this.points.length>2,e=this.points[0];if(!n&&e&&this._drawDot(e),e){var i=this._data[this._data.length-1],a=i[i.length-1];e.equals(a)||i.push({x:e.x,y:e.y,time:e.time,color:this.penColor})}"function"==typeof this.onEnd&&this.onEnd(t)},_.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},_.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},_.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},_.prototype._createPoint=function(t,n,e){var i=this._canvas.getBoundingClientRect();return new f(t-i.left,n-i.top,e||(new Date).getTime())},_.prototype._addPoint=function(t){var n=this.points;if(n.push(t),n.length>2){3===n.length&&n.unshift(n[0]);var e=this._calculateCurveControlPoints(n[0],n[1],n[2]).c2,i=this._calculateCurveControlPoints(n[1],n[2],n[3]).c1,a=new m(n[1],e,i,n[2]),o=this._calculateCurveWidths(a);return n.shift(),{curve:a,widths:o}}return{}},_.prototype._calculateCurveControlPoints=function(t,n,e){var i=t.x-n.x,a=t.y-n.y,o=n.x-e.x,r=n.y-e.y,s=(t.x+n.x)/2,c=(t.y+n.y)/2,h=(n.x+e.x)/2,l=(n.y+e.y)/2,u=Math.sqrt(i*i+a*a),d=Math.sqrt(o*o+r*r),p=d/(u+d),v=h+(s-h)*p,m=l+(c-l)*p,_=n.x-v,g=n.y-m;return{c1:new f(s+_,c+g),c2:new f(h+_,l+g)}},_.prototype._calculateCurveWidths=function(t){var n=t.startPoint,e=t.endPoint,i={start:null,end:null},a=this.velocityFilterWeight*e.velocityFrom(n)+(1-this.velocityFilterWeight)*this._lastVelocity,o=this._strokeWidth(a);return i.start=this._lastWidth,i.end=o,this._lastVelocity=a,this._lastWidth=o,i},_.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)},_.prototype._drawPoint=function(t,n,e){var i=this._ctx;i.moveTo(t,n),i.arc(t,n,e,0,2*Math.PI,!1),this._isEmpty=!1},_.prototype._drawCurve=function(t,n,e){var i=this._ctx,a=e-n,o=Math.floor(t.length());i.beginPath();for(var r=0;r<o;r+=1){var s=r/o,c=s*s,h=c*s,l=1-s,u=l*l,d=u*l,p=d*t.startPoint.x;p+=3*u*s*t.control1.x,p+=3*l*c*t.control2.x,p+=h*t.endPoint.x;var v=d*t.startPoint.y;v+=3*u*s*t.control1.y,v+=3*l*c*t.control2.y,v+=h*t.endPoint.y;var f=n+h*a;this._drawPoint(p,v,f)}i.closePath(),i.fill()},_.prototype._drawDot=function(t){var n=this._ctx,e="function"==typeof this.dotSize?this.dotSize():this.dotSize;n.beginPath(),this._drawPoint(t.x,t.y,e),n.closePath(),n.fill()},_.prototype._fromData=function(t,n,e){for(var i=0;i<t.length;i+=1){var a=t[i];if(a.length>1)for(var o=0;o<a.length;o+=1){var r=a[o],s=new f(r.x,r.y,r.time),c=r.color;if(0===o)this.penColor=c,this._reset(),this._addPoint(s);else if(o!==a.length-1){var h=this._addPoint(s),l=h.curve,u=h.widths;l&&u&&n(l,u,c)}}else this._reset(),e(a[0])}},_.prototype._toSVG=function(){var t=this,n=this._data,e=this._canvas,i=Math.max(window.devicePixelRatio||1,1),a=e.width/i,o=e.height/i,r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttributeNS(null,"width",e.width),r.setAttributeNS(null,"height",e.height),this._fromData(n,function(t,n,e){var i=document.createElement("path");if(!(isNaN(t.control1.x)||isNaN(t.control1.y)||isNaN(t.control2.x)||isNaN(t.control2.y))){var a="M "+t.startPoint.x.toFixed(3)+","+t.startPoint.y.toFixed(3)+" C "+t.control1.x.toFixed(3)+","+t.control1.y.toFixed(3)+" "+t.control2.x.toFixed(3)+","+t.control2.y.toFixed(3)+" "+t.endPoint.x.toFixed(3)+","+t.endPoint.y.toFixed(3);i.setAttribute("d",a),i.setAttribute("stroke-width",(2.25*n.end).toFixed(3)),i.setAttribute("stroke",e),i.setAttribute("fill","none"),i.setAttribute("stroke-linecap","round"),r.appendChild(i)}},function(n){var e=document.createElement("circle"),i="function"==typeof t.dotSize?t.dotSize():t.dotSize;e.setAttribute("r",i),e.setAttribute("cx",n.x),e.setAttribute("cy",n.y),e.setAttribute("fill",n.color),r.appendChild(e)});var s='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+a+" "+o+'" width="'+a+'" height="'+o+'">',c=r.innerHTML;if(void 0===c){var h=document.createElement("dummy"),l=r.childNodes;h.innerHTML="";for(var u=0;u<l.length;u+=1)h.appendChild(l[u].cloneNode(!0));c=h.innerHTML}return"data:image/svg+xml;base64,"+btoa(s+c+"</svg>")},_.prototype.fromData=function(t){var n=this;this.clear(),this._fromData(t,function(t,e){return n._drawCurve(t,e.start,e.end)},function(t){return n._drawDot(t)}),this._data=t},_.prototype.toData=function(){return this._data};var g=_,b={name:"Chalkboard",props:{penColor:{default:"#000"},backgroundColor:{default:"#FFF"}},data:function(){return{pad:null}},methods:{getImageVector:function(){return function(t){for(var n=t.canvas,e=t.columns,i=n.clientWidth,a=n.clientHeight,o=n.getContext("2d"),r=i/e,s=a/e,c=[],h=0;h<i;h+=r)for(var l=0;l<a;l+=s){var u=void 0===o.getImageData(h,l,r,s).data.find(function(t){return t>0});c.push(u?0:1)}return c}({canvas:this.$refs.canvas,columns:20})},clear:function(){this.pad.clear()},resizeCanvas:function(){var t=Math.max(window.devicePixelRatio||1,1),n=this.$refs.canvas;n.width=n.offsetWidth*t,n.height=n.offsetHeight*t,n.getContext("2d").scale(t,t),this.pad.clear()}},mounted:function(){var t=this.$refs.canvas,n={penColor:this.penColor};this.pad=new g(t,n),this.resizeCanvas()}},y={render:function(){var t=this.$createElement;return(this._self._c||t)("canvas",{ref:"canvas",staticClass:"Chalkboard-canvas border",style:{"background-color":this.backgroundColor}})},staticRenderFns:[]};var w=e("VU/8")(b,y,!1,function(t){e("Yrgb")},"data-v-f752a902",null).exports,x={name:"Train",props:{shape:{required:!0}},components:{Chalkboard:w},data:function(){return{trainData:[]}},computed:{boards:function(){var t=this;return[1,2,3].map(function(n){return t.$refs["sample"+n]})}},methods:{getVectors:function(){return this.boards.map(function(t){return t.getImageVector()})},train:function(){var t=this.getVectors(),n=v()({},this.shape,1),e=t.map(function(t){return{input:t,output:n}});this.trainData=this.trainData.concat(e),this.$emit("trained",this.trainData)},clear:function(){this.boards.forEach(function(t){return t.clear()})}}},k={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-container",[e("h1",[t._v("Draw "+t._s(t.shape))]),t._v(" "),e("p",[t._v("Draw one "+t._s(t.shape)+" in each board. Click the button below after finishing the drawings.")]),t._v(" "),e("b-row",[e("b-col",[e("Chalkboard",{ref:"sample1"})],1),t._v(" "),e("b-col",[e("Chalkboard",{ref:"sample2"})],1),t._v(" "),e("b-col",[e("Chalkboard",{ref:"sample3"})],1)],1),t._v(" "),e("b-row",[e("b-col",[e("b-button",{staticClass:"float-right",attrs:{variant:"primary"},on:{click:t.train}},[t._v("Save")]),t._v(" "),e("b-button",{staticClass:"float-right",attrs:{variant:"link"},on:{click:t.clear}},[t._v("Clear")])],1)],1)],1)},staticRenderFns:[]};var C=e("VU/8")(x,k,!1,function(t){e("EeSn")},"data-v-1d51ce31",null).exports,T={name:"TrainPage",components:{Train:C,Chalkboard:w},data:function(){return{trainData:[],training:!1,trainingError:null,trainingIterations:null,net:null,prediction:null}},methods:{onTrainedData:function(t){this.trainData=this.trainData.concat(t)},train:function(){var t=this;return l()(c.a.mark(function n(){var e,i,a,o;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.net||(t.net=new d.a.NeuralNetwork),t.trainingError=null,t.trainingIterations=null,t.training=!0,e={log:!0},n.next=7,t.net.trainAsync(t.trainData,e);case 7:i=n.sent,a=i.error,o=i.iterations,t.trainingError=a,t.trainingIterations=o,t.training=!1;case 13:case"end":return n.stop()}},n,t)}))()},check:function(){var t=this.$refs.test.getImageVector();this.prediction=d.a.likely(t,this.net)},clear:function(){this.$refs.test.clear(),this.prediction=null}}},E={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-container",[e("b-row",[e("b-col",[e("Train",{attrs:{shape:"circle"},on:{trained:t.onTrainedData}})],1)],1),t._v(" "),e("b-row",[e("b-col",[e("Train",{attrs:{shape:"square"},on:{trained:t.onTrainedData}})],1)],1),t._v(" "),e("b-row",[e("b-col",[e("b-alert",{attrs:{show:t.training}},[t._v("Training ...")]),t._v(" "),t.training?t._e():e("div",[e("b-button",{attrs:{variant:"primary"},on:{click:t.train}},[t._v("Train")]),t._v(" "),e("p",[t._v("Training error: "+t._s(t.trainingError))]),t._v(" "),e("p",[t._v("Training iterations: "+t._s(t.trainingIterations))])],1)],1),t._v(" "),e("b-col",[e("Chalkboard",{ref:"test"}),t._v(" "),e("b-button",{attrs:{variant:"success"},on:{click:t.check}},[t._v("Check")]),t._v(" "),e("b-button",{attrs:{variant:"link"},on:{click:t.clear}},[t._v("Clear")])],1),t._v(" "),e("b-col",[e("h2",[t._v("Results")]),t._v(" "),e("h1",[t._v(t._s(t.prediction))])])],1)],1)},staticRenderFns:[]};var D=e("VU/8")(T,E,!1,function(t){e("GQmB")},"data-v-06bcdacc",null).exports,S=e("mvHQ"),M=e.n(S),P=e("Zrlr"),U=e.n(P),R=e("wxAW"),L=e.n(R),A=function(){function t(n){var e=n.name,i=n.data;if(U()(this,t),!(e&&e.length&&i&&i.length))throw new TypeError("name and data are required to create a shape");this.name=e,this.output=v()({},e,1),this.trainingData=i}return L()(t,[{key:"getTrainingData",value:function(){return this.trainingData}}]),t}(),N={name:"AddShape",components:{Train:C},data:function(){return{shape:{name:null,data:null}}},methods:{addShape:function(){try{var t=new A(this.shape);this.shape={name:null,data:null},this.$emit("shape",t)}catch(t){console.log(t)}}}},W={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-form",{on:{submit:function(n){return n.preventDefault(),t.addShape(n)}}},[e("b-form-group",{attrs:{label:"Shape name:","label-for":"shapeName",description:"The way anyone would call this shape"}},[e("b-form-input",{attrs:{id:"shapeName",type:"text",required:"",placeholder:"circle"},model:{value:t.shape.name,callback:function(n){t.$set(t.shape,"name",n)},expression:"shape.name"}})],1),t._v(" "),e("Train",{attrs:{shape:t.shape.name},on:{trained:function(n){t.shape.data=n}}}),t._v(" "),e("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Add shape")])],1)},staticRenderFns:[]};var F={data:function(){return{modelUrl:null}},methods:{loadModel:function(){var t=this;return l()(c.a.mark(function n(){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Loading model from: "+t.modelUrl),n.abrupt("return",fetch(t.modelUrl,{method:"GET"}).then(function(t){return t.json()}).then(function(n){return t.$emit("model",n)}).catch(function(n){return t.$emit("error",n)}));case 2:case"end":return n.stop()}},n,t)}))()}}},B={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-form",{on:{submit:function(n){return n.preventDefault(),t.loadModel(n)}}},[e("b-form-group",{attrs:{label:"Model url:","label-for":"modelUrl",description:"Where your model is hosted"}},[e("b-form-input",{attrs:{id:"modelUrl",type:"url",required:"",placeholder:"http://...."},model:{value:t.modelUrl,callback:function(n){t.modelUrl=n},expression:"modelUrl"}})],1),t._v(" "),e("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Load")])],1)},staticRenderFns:[]};var $={name:"ShapesPage",components:{AddShape:e("VU/8")(N,W,!1,function(t){e("Ln+A")},"data-v-ebf5401a",null).exports,Chalkboard:w,LoadModel:e("VU/8")(F,B,!1,function(t){e("6lR3")},"data-v-1d597dec",null).exports},data:function(){return{addingShape:!1,shapes:[],net:null,training:!1,trainingResults:{},trained:!1,prediction:null}},methods:{addShape:function(t){this.shapes.push(t),this.addingShape=!1},train:function(){var t=this;return l()(c.a.mark(function n(){var e;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.shapes.reduce(function(t,n){return t.concat(n.getTrainingData())},[]),t.net=new d.a.NeuralNetwork,t.training=!0,t.trained=!1,t.trainingResults=null,t.prediction=null,n.next=8,t.net.trainAsync(e,{log:!0});case 8:t.trainingResults=n.sent,t.training=!1,t.trained=!0;case 11:case"end":return n.stop()}},n,t)}))()},predict:function(){var t=this.$refs.canvasTest.getImageVector();this.prediction=d.a.likely(t,this.net)},clear:function(){this.$refs.canvasTest.clear(),this.prediction=null},download:function(){var t={model:this.net.toJSON(),shapes:this.shapeNames};!function t(n,e,i){var a,o,r=window,s="application/octet-stream",c=i||s,h=n,l=!e&&!i&&h,u=document.createElement("a"),d=function(t){return String(t)},p=r.Blob||r.MozBlob||r.WebKitBlob||d,v=e||"download";if(p=p.call?p.bind(r):Blob,"true"===String(this)&&(c=(h=[h,c])[0],h=h[1]),l&&l.length<2048&&(v=l.split("/").pop().split("?")[0],u.href=l,-1!==u.href.indexOf(l))){var f=new XMLHttpRequest;return f.open("GET",l,!0),f.responseType="blob",f.onload=function(n){t(n.target.response,v,s)},setTimeout(function(){f.send()},0),f}if(/^data\:[\w+\-]+\/[\w+\-]+[,;]/.test(h)){if(!(h.length>2096103.424&&p!==d))return navigator.msSaveBlob?navigator.msSaveBlob(m(h),v):_(h);c=(h=m(h)).type||s}function m(t){for(var n=t.split(/[:;,]/),e=n[1],i=("base64"==n[2]?atob:decodeURIComponent)(n.pop()),a=i.length,o=0,r=new Uint8Array(a);o<a;++o)r[o]=i.charCodeAt(o);return new p([r],{type:e})}function _(t,n){if("download"in u)return u.href=t,u.setAttribute("download",v),u.className="download-js-link",u.innerHTML="downloading...",u.style.display="none",document.body.appendChild(u),setTimeout(function(){u.click(),document.body.removeChild(u),!0===n&&setTimeout(function(){r.URL.revokeObjectURL(u.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return t=t.replace(/^data:([\w\/\-\+]+)/,s),window.open(t)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=t),!0;var e=document.createElement("iframe");document.body.appendChild(e),n||(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,s)),e.src=t,setTimeout(function(){document.body.removeChild(e)},333)}if(a=h instanceof p?h:new p([h],{type:c}),navigator.msSaveBlob)return navigator.msSaveBlob(a,v);if(r.URL)_(r.URL.createObjectURL(a),!0);else{if("string"==typeof a||a.constructor===d)try{return _("data:"+c+";base64,"+r.btoa(a))}catch(t){return _("data:"+c+","+encodeURIComponent(a))}(o=new FileReader).onload=function(t){_(this.result)},o.readAsDataURL(a)}return!0}(M()(t),"model.json","text/json")},modelLoaded:function(t){var n=t.model,e=t.shapes;this.net=this.net||new d.a.NeuralNetwork,this.net.fromJSON(n),this.shapes=e.map(function(t){return new A({name:t,data:[1]})}),this.training=!1,this.trained=!0,this.trainingResults={},this.prediction=null}},computed:{shapeNames:function(){return this.shapes.map(function(t){return t.name})}}},V={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-container",[e("b-row",[e("b-col",[e("LoadModel",{on:{model:t.modelLoaded}})],1)],1),t._v(" "),e("b-row",[e("b-col",[e("h1",[t._v("Known shapes")]),t._v(" "),e("ul",t._l(t.shapeNames,function(n){return e("li",{key:n},[t._v("\n          "+t._s(n)+"\n        ")])})),t._v(" "),t.addingShape?t._e():e("b-button",{attrs:{variant:"outline-primary"},on:{click:function(n){t.addingShape=!0}}},[t._v("\n        Add shape\n      ")]),t._v(" "),t.shapeNames.length?e("b-button",{attrs:{variant:"primary"},on:{click:t.train}},[t._v("\n        Train\n      ")]):t._e(),t._v(" "),e("b-alert",{attrs:{show:t.training}},[t._v("Training ...")]),t._v(" "),t.trained?e("div",[e("p",[t._v("Training error: "+t._s(t.trainingResults.error))]),t._v(" "),e("p",[t._v("Training iterations: "+t._s(t.trainingResults.iterations))]),t._v(" "),e("b-button",{attrs:{variant:"info"},on:{click:t.download}},[t._v("\n          Download\n        ")])],1):t._e()],1),t._v(" "),t.addingShape?e("b-col",[e("AddShape",{on:{shape:t.addShape}})],1):t._e(),t._v(" "),t.trained&&!t.addingShape?e("b-col",[e("Chalkboard",{ref:"canvasTest"}),t._v(" "),e("div",[e("b-button",{attrs:{variant:"success"},on:{click:t.predict}},[t._v("Check")]),t._v(" "),e("b-button",{attrs:{variant:"link"},on:{click:t.clear}},[t._v("Clear")]),t._v(" "),e("h2",[t._v("Results")]),t._v(" "),e("h1",[t._v(t._s(t.prediction))])],1)],1):t._e()],1)],1)},staticRenderFns:[]};var I=e("VU/8")($,V,!1,function(t){e("ISGP")},"data-v-2ebd4afc",null).exports;i.a.use(r.a);var q=new r.a({routes:[{path:"/",name:"ShapesPage",component:I},{path:"/train",name:"TrainPage",component:D}]}),z=e("e6fC");i.a.use(z.a),i.a.config.productionTip=!1,new i.a({el:"#app",router:q,components:{App:o},template:"<App/>"})},W43E:function(t,n){},Yrgb:function(t,n){},zj2Q:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.52907e558fad9f6758cc.js.map